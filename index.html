<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>FriOlKa | Der Reise-Agent</title>
  <meta name="theme-color" content="#1b6bb3" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRf0Xpc=" crossorigin="" />
  <link rel="icon" href="icons/icon-192.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="apple-touch-icon" href="icons/apple-icon-180.png" />
</head>
<body>
  <header class="app-header">
    <h1>FriOlKa | Der Reise-Agent</h1>
    <div class="header-actions">
      <button id="btn-refresh" title="Standort aktualisieren">ðŸ”„</button>
    </div>
  </header>

  <div id="error-banner" class="error hidden"></div>

  <nav class="tabs">
    <button data-tab="nearby" class="active">In der NÃ¤he</button>
    <button data-tab="map">Karte</button>
    <button data-tab="weather">Wetter</button>
    <button data-tab="basecamps">Basecamps</button>
    <button data-tab="import">Import/Export</button>
  </nav>

  <main>
    <section id="tab-nearby" class="tab active">
      <div class="filters">
        <label><input type="checkbox" id="f-kinderwagen" /> kinderwagentaugliche Wege</label>
        <label><input type="checkbox" id="f-schattig" /> schattig</label>
        <label><input type="checkbox" id="f-freistehen" /> freies Stehen</label>
        <label><input type="checkbox" id="f-lokal" /> Restaurants: lokal</label>
        <label><input type="checkbox" id="f-preiswert" /> Restaurants: preiswert</label>
      </div>
      <ul id="nearby-list" class="list"></ul>
    </section>

    <section id="tab-map" class="tab">
      <div id="map" class="map"></div>
    </section>

    <section id="tab-weather" class="tab">
      <div id="weather"></div>
      <div id="where-next" class="where-next"></div>
    </section>

    <section id="tab-basecamps" class="tab">
      <ul id="basecamp-list" class="list"></ul>
    </section>

    <section id="tab-import" class="tab">
      <p>Importiere Punkte als GPX/CSV â€“ oder fÃ¼ge durch <b>EinfÃ¼gen</b> (Koordinaten/Link) hinzu. Exportiere deine Sammlung als CSV/GPX.</p>
      <div class="import-actions">
        <input type="file" id="file-input" accept=".gpx,.csv,text/csv" />
        <button id="btn-paste">Aus Zwischenablage einfÃ¼gen</button>
        <button id="btn-add-manual">Manuell hinzufÃ¼gen</button>
      </div>
      <div class="export-actions">
        <button id="btn-export-csv">Export CSV</button>
        <button id="btn-export-gpx">Export GPX</button>
      </div>
      <div id="import-msg" class="msg"></div>
      <ul id="spot-list" class="list"></ul>
    </section>
  </main>

  <!-- Detail-Modal -->
  <div id="detail-modal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-card">
      <button class="modal-close" id="detail-close" title="SchlieÃŸen">Ã—</button>
      <h2 id="detail-title">Spot</h2>
      <div class="badges" id="detail-badges"></div>
      <p id="detail-desc" class="muted"></p>
      <div class="actions">
        <a id="open-apple" class="btn" target="_blank" rel="noopener">In Apple Karten Ã¶ffnen</a>
        <a id="open-google" class="btn" target="_blank" rel="noopener">In Google Maps Ã¶ffnen</a>
      </div>
      <div id="wiki" class="card" style="margin-top:10px;"></div>
    </div>
  </div>

  <footer class="attribution">
    <small>Â© FriOlKa. Karten Â© OpenStreetMap-Mitwirkende. Wetter: Openâ€‘Meteo. Inhalte: teils Wikipedia/Wikidata (CCâ€‘BYâ€‘SA).</small>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script src="app.js"></script>
</body>
</html>